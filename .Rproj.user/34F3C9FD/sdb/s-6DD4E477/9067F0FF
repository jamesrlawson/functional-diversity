{
    "contents" : "source(\"scripts/functions.R\")\noptions(stringsAsFactors = FALSE)\nlibrary(plyr)\nlibrary(ggplot2)\nlibrary(reshape)\nlibrary(FD)\n\nDBH <- na.omit(read.csv(\"data/DBH.csv\", header=TRUE))\nhydro <- read.csv(\"data/hydro_all.csv\", header=TRUE)\n\nDBH.small <- subset(DBH, dbh < 50)\n\nstemsPerPlot <- tapply(DBH$plotID, DBH$plotID, length)\nbasalAreaPerPlot <- tapply(DBH$dbh, DBH$plotID, sum)\n\nstemsPerPlot.small <- tapply(DBH.small$plotID, DBH.small$plotID, length)\n\n# replace missing value for site 6 with zero\n\n#stemsPerPlot.small1 <- stemsPerPlot.small[1:5]\n#stemsPerPlot.small1[6] = c(0)\n#stemsPerPlot.small1[7:15] <- stemsPerPlot.small[6:14]\n#stemsPerPlot.small <- stemsPerPlot.small1\n\nbasalAreaPerPlot.small <- tapply(DBH.small$dbh, DBH.small$plotID, sum)\n\n#basalAreaPerPlot.small1 <- basalAreaPerPlot.small[1:5]\n#basalAreaPerPlot.small1[6] = c(0)\n#basalAreaPerPlot.small1[7:15] <- basalAreaPerPlot.small[6:14]\n#basalAreaPerPlot.small <- basalAreaPerPlot.small1\n\n## multiply 500m2 plot by 20 to get 10000m2 Ha)\n\nhydro$stemsPerHa <- stemsPerPlot * 20\nhydro$basalAreaPerHa <- basalAreaPerPlot * 20\n\nhydro$stemsPerHa.small <- stemsPerPlot.small * 20\nhydro$basalAreaPerHa.small <- basalAreaPerPlot.small * 20\n\n## transform  ?? ##\n\nhist((hydro$stemsPerHa), breaks=7)\nhist((hydro$basalAreaPerHa), breaks=7)\n\nhist(log2(hydro$stemsPerHa), breaks=7)\nhist(log2(hydro$basalAreaPerHa), breaks=7)\n\nhydro$stemsPerHa <- log2(hydro$stemsPerHa)\nhydro$basalAreaPerHa <- log2(hydro$basalAreaPerHa)\n\nhist((hydro$stemsPerHa.small), breaks=7)\nhist((hydro$basalAreaPerHa.small), breaks=7)\n\nhist(log(hydro$stemsPerHa.small), breaks=7)\nhist(log2(hydro$basalAreaPerHa.small), breaks=7)\n\nhydro$stemsPerHa.small <- log(hydro$stemsPerHa.small)\nhydro$basalAreaPerHa.small <- log2(hydro$basalAreaPerHa.small)\n\n#hydro[6,41] <- 0\n#hydro[6,40] <- 0 \n\n## get stats ##\n\ngetStats(hydro, hydro$stemsPerHa, DBH)\ngetStats(hydro, hydro$basalAreaPerHa, DBH)\ngetStats(hydro, hydro$stemsPerHa.small, DBH)\ngetStats(hydro, hydro$basalAreaPerHa.small, DBH)\n\nplot.linear(hydro, hydro$stemsPerHa, DBH)\nplot.linear(hydro, hydro$basalAreaPerHa, DBH)\nplot.linear(hydro, hydro$stemsPerHa.small, DBH)\nplot.linear(hydro, hydro$basalAreaPerHa.small, DBH)\n\nplot.quad(hydro, hydro$stemsPerHa, DBH)\nplot.quad(hydro, hydro$basalAreaPerHa, DBH)\nplot.quad(hydro, hydro$stemsPerHa.small, DBH)\nplot.quad(hydro, hydro$basalAreaPerHa.small, DBH)\n\n\n## aov ##\n\nstemsPerHa.aov <- aov(hydro$stemsPerHa ~ as.factor(hydro$category))\nTukeyHSD(stemsPerHa.aov)\n\nbasalAreaPerHa.aov <- aov(hydro$basalAreaPerHa ~ as.factor(hydro$category))\nTukeyHSD(basalAreaPerHa.aov)\n\n\n### correlations with CWMs and richness ###\n\nplot(hydroplots$maxheight.CWM, hydro$stemsPerHa.small)\ncor(hydroplots$maxheight.CWM, hydro$stemsPerHa.small)\nsummary(lm(hydroplots$maxheight.CWM ~ hydro$stemsPerHa.small))\n\nplot(hydroplots$maxheight.CWM, hydro$basalAreaPerHa.small)\ncor(hydroplots$maxheight.CWM, hydro$basalAreaPerHa.small)\nsummary(lm(hydroplots$maxheight.CWM ~ hydro$basalAreaPerHa.small))\n\n\nplot(hydroplots$seedmass.CWM, hydro$stemsPerHa.small)\ncor(hydroplots$seedmass.CWM, hydro$stemsPerHa.small)\nsummary(lm(hydroplots$seedmass.CWM ~ hydro$stemsPerHa.small))\n\nplot(hydroplots$FDis, hydro$stemsPerHa.small)\ncor(hydroplots$FDis, hydro$stemsPerHa.small)\nsummary(lm(hydroplots$FDiv ~ hydro$stemsPerHa.small))\n\n\n\n\n#########\n\nDBH.1 <- subset(DBH.hydro, category ==1)\nDBH.2 <- subset(DBH.hydro, category ==2)\nDBH.3 <- subset(DBH.hydro, category ==3)\n\nhist(DBH.1$dbh, breaks=20)\nhist(DBH.2$dbh, breaks=20)\nhist(DBH.3$dbh, breaks=20)\n\n\nDBH.hydro <- merge(DBH, hydro)\nDBH.hydro.large <- subset(DBH.hydro, dbh > 50)\nDBH.large.aov <- aov(DBH.hydro.large$dbh ~ as.factor(DBH.hydro.large$category))\nTukeyHSD(DBH.large.aov)\n\nDBH.hydro <- merge(DBH, hydro)\nDBH.hydro.small <- subset(DBH.hydro, dbh < 50)\nDBH.small.aov <- aov(DBH.hydro.small$dbh ~ as.factor(DBH.hydro.small$category))\nTukeyHSD(DBH.small.aov)\n\n\n",
    "created" : 1403243908450.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "790144617",
    "id" : "9067F0FF",
    "lastKnownWriteTime" : 1403676758,
    "path" : "C:/Users/JLawson/Desktop/stuff/data/analysis/R/functional diversity/scripts/DBH.R",
    "project_path" : "scripts/DBH.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}